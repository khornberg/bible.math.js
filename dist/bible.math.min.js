/*! bible.math 12-17-2013 */
var bible={};!function(){var a=function(a){return a.split(" ")},b=function(a,b){var c,d,e,f,g=b.split(" "),h=[],i=null;for(1==a?i=["1","I","First"]:2==a?i=["2","II","Second"]:3==a&&(i=["3","III","Third"]),c=0,d=g.length;d>c;c++)for(e=0,f=i.length;f>e;e++)h.push(i[e]+" "+g[c]),0===e&&h.push(i[e]+g[c]);return h.unshift(i[0]+g[1]),h.unshift(i[0]+" "+g[0]),h};bible.Books=[{names:a("Genesis Ge Gen"),verses:[31,25,24,26,32,22,24,22,29,32,32,20,18,24,21,16,27,33,38,18,34,24,20,67,34,35,46,22,35,43,55,32,20,31,29,43,36,30,23,23,57,38,34,34,28,34,31,22,33,26]},{names:a("Exodus Ex Exo"),verses:[22,25,22,31,23,30,25,32,35,29,10,51,22,31,27,36,16,27,25,26,36,31,33,18,40,37,21,43,46,38,18,35,23,35,35,38,29,31,43,38]},{names:a("Leviticus Le Lev"),verses:[17,16,17,35,19,30,38,36,24,20,47,8,59,57,33,34,16,30,37,27,24,33,44,23,55,46,34]},{names:a("Numbers Nu Num"),verses:[54,34,51,49,31,27,89,26,23,36,35,16,33,45,41,50,13,32,22,29,35,41,30,25,18,65,23,31,40,16,54,42,56,29,34,13]},{names:a("Deuteronomy Dt Deut Deu De"),verses:[46,37,29,49,33,25,26,20,29,22,32,32,18,29,23,22,20,22,21,20,23,30,25,22,19,19,26,68,29,20,30,52,29,12]},{names:a("Joshua Js Jos Jos Josh"),verses:[18,24,17,24,15,27,26,35,27,43,23,24,33,15,63,10,18,28,51,9,45,34,16,33]},{names:a("Judges Jg Jud Jdg Ju Jdgs Judg"),verses:[36,23,31,24,31,40,25,35,57,18,40,15,25,20,20,31,13,31,30,48,25]},{names:a("Ruth Ru Rut"),verses:[22,23,18,22]},{names:b(1,"Samuel Sa Sam"),verses:[28,36,21,22,12,21,17,22,27,27,15,25,23,52,35,23,58,30,24,42,15,23,29,22,44,25,12,25,11,31,13]},{names:b(2,"Samuel Sa Sam"),verses:[27,32,39,12,25,23,29,18,13,19,27,31,39,33,37,23,29,33,43,26,22,51,39,25]},{names:b(1,"Kings Ki King Kin Kngs"),verses:[53,46,28,34,18,38,51,66,28,29,43,33,34,31,34,34,24,46,21,43,29,53]},{names:b(2,"Kings Ki King Kin Kngs"),verses:[18,25,27,44,27,33,20,29,37,36,21,21,25,29,38,20,41,37,37,21,26,20,37,20,30]},{names:b(1,"Chronicles Ch Chr"),verses:[54,55,24,43,26,81,40,40,44,14,47,40,14,17,29,43,27,17,19,8,30,19,32,31,31,32,34,21,30]},{names:b(2,"Chronicles Ch Chr"),verses:[17,18,17,22,14,42,22,18,31,19,23,16,22,15,19,14,19,34,11,37,20,12,21,27,28,23,9,27,36,27,21,33,25,33,27,23]},{names:a("Ezra Ez Ezr"),verses:[11,70,13,24,17,22,28,36,15,44]},{names:a("Nehemiah Ne Neh Neh Ne"),verses:[11,20,32,23,19,19,73,18,38,39,36,47,31]},{names:a("Esther Es Est Esth Ester"),verses:[22,23,15,17,14,14,10,17,32,3]},{names:a("Job Jb Job"),verses:[22,13,26,21,27,30,21,22,35,22,20,25,28,22,35,22,16,21,29,29,34,30,17,25,6,14,23,28,25,31,40,22,33,37,16,33,24,41,30,24,34,17]},{names:a("Psalm Ps Psa Pss"),verses:[6,12,8,8,12,10,17,9,20,18,7,8,6,7,5,11,15,50,14,9,13,31,6,10,22,12,14,9,11,12,24,11,22,22,28,12,40,22,13,17,13,11,5,26,17,11,9,14,20,23,19,9,6,7,23,13,11,11,17,12,8,12,11,10,13,20,7,35,36,5,24,20,28,23,10,12,20,72,13,19,16,8,18,12,13,17,7,18,52,17,16,15,5,23,11,13,12,9,9,5,8,28,22,35,45,48,43,13,31,7,10,10,9,8,18,19,2,29,176,7,8,9,4,8,5,6,5,6,8,8,3,18,3,3,21,26,9,8,24,13,10,7,12,15,21,10,20,14,9,6]},{names:a("Proverbs Pr Prov Pro"),verses:[33,22,35,27,23,35,27,36,18,32,31,28,25,35,33,33,28,24,29,30,31,29,35,34,28,28,27,28,27,33,31]},{names:a("Ecclesiastes Ec Ecc"),verses:[18,26,22,16,20,12,29,17,18,20,10,14]},{names:["Song of Solomon","SOS","Song of Songs","SongOfSongs"],verses:[17,17,11,16,16,13,13,14]},{names:a("Isaiah Isa"),verses:[31,22,26,6,30,13,25,22,21,34,16,6,22,32,9,14,14,7,25,6,17,25,18,23,12,21,13,29,24,33,9,20,24,17,10,22,38,22,8,31,29,25,28,28,25,13,15,22,26,11,23,15,12,17,13,12,21,14,21,22,11,12,19,12,25,24]},{names:a("Jeremiah Je Jer"),verses:[19,37,25,31,31,30,34,22,26,25,23,17,27,22,21,21,27,23,15,18,14,30,40,10,38,24,22,17,32,24,40,44,26,22,19,32,21,28,18,16,18,22,13,30,5,28,7,47,39,46,64,34]},{names:a("Lamentations La Lam Lament"),verses:[22,22,66,22,22]},{names:a("Ezekiel Ek Ezek Eze"),verses:[28,10,27,17,17,14,27,18,11,22,25,28,23,23,8,63,24,32,14,49,32,31,49,27,17,21,36,26,21,26,18,32,33,31,15,38,28,23,29,49,26,20,27,31,25,24,23,35]},{names:a("Daniel Da Dan Dl Dnl"),verses:[21,49,30,37,31,28,28,27,27,21,45,13]},{names:a("Hosea Ho Hos"),verses:[11,23,5,19,15,11,16,14,17,15,12,14,16,9]},{names:a("Joel Jl Joel Joe"),verses:[20,32,21]},{names:a("Amos Am Amos Amo"),verses:[15,16,15,13,27,14,17,14,15]},{names:a("Obadiah Ob Oba Obd Odbh"),verses:[21]},{names:a("Jonah Jh Jon Jnh"),verses:[17,10,10,11]},{names:a("Micah Mi Mic"),verses:[16,13,12,13,15,16,20]},{names:a("Nahum Na Nah Na"),verses:[15,13,19]},{names:a("Habakkuk Hb Hab Hk Habk"),verses:[17,20,19]},{names:a("Zephaniah Zp Zep Zeph Ze"),verses:[18,15,20]},{names:a("Haggai Ha Hag Hagg"),verses:[15,23]},{names:a("Zechariah Zc Zech Zec"),verses:[21,13,10,14,11,15,14,23,17,12,17,14,9,21]},{names:a("Malachi Ml Mal Mlc"),verses:[14,17,18,6]},{names:a("Matthew Mt Matt Mat"),verses:[25,23,17,25,48,34,29,34,38,42,30,50,58,36,39,28,27,35,30,34,46,46,39,51,46,75,66,20]},{names:a("Mark Mk Mrk"),verses:[45,28,35,41,43,56,37,38,50,52,33,44,37,72,47,20]},{names:a("Luke Lk Luk Lu"),verses:[80,52,38,44,39,49,50,56,62,42,54,59,35,35,32,31,37,43,48,47,38,71,56,53]},{names:a("John Jn Joh Jo"),verses:[51,25,36,54,47,71,53,59,41,42,57,50,38,31,27,33,26,40,42,31,25]},{names:a("Acts Ac Act"),verses:[26,47,26,37,42,15,60,40,43,48,30,25,52,28,41,40,34,28,41,38,40,30,35,27,27,32,44,31]},{names:a("Romans Ro Rom Rmn Rmns"),verses:[32,29,31,25,21,23,25,39,33,21,36,21,14,23,33,27]},{names:b(1,"Corinthians Co Cor"),verses:[31,16,23,21,13,20,40,13,27,33,34,31,13,40,58,24]},{names:b(2,"Corinthians Co Cor"),verses:[24,17,18,18,21,18,16,24,15,18,33,21,14]},{names:a("Galatians Ga Gal Gltns"),verses:[24,21,29,31,26,18]},{names:a("Ephesians Ep Eph Ephn"),verses:[23,22,21,32,33,24]},{names:a("Philippians Phi Phil Phi"),verses:[30,30,21,23]},{names:a("Colossians Co Col Colo Cln Clns"),verses:[29,23,25,18]},{names:b(1,"Thessalonians Th Thess Thes"),verses:[10,20,13,18,28]},{names:b(2,"Thessalonians Th Thess Thes"),verses:[12,17,18]},{names:b(1,"Timothy Ti Tim"),verses:[20,15,16,16,25,21]},{names:b(2,"Timothy Ti Tim"),verses:[18,26,17,22]},{names:a("Titus Ti Tit Tt Ts"),verses:[16,15,15]},{names:a("Philemon Pm Phile Philm Pm"),verses:[25]},{names:a("Hebrews He Heb Hw"),verses:[14,18,19,16,14,20,28,13,28,39,40,29,25]},{names:a("James Jm Jam Jas Ja"),verses:[27,26,18,17,20]},{names:b(1,"Peter Pe Pet P"),verses:[25,25,22,19,14]},{names:b(2,"Peter Pe Pet P"),verses:[21,22,18]},{names:b(1,"John Joh Jo Jn J"),verses:[10,29,24,21,21]},{names:b(2,"John Joh Jo Jn J"),verses:[13]},{names:b(3,"John Joh Jo Jn J"),verses:[14]},{names:a("Jude Jude"),verses:[25]},{names:a("Revelation Re Rev Rvltn"),verses:[20,29,22,11,14,17,17,13,21,11,19,17,18,20,8,21,18,24,21,15,27,20]}]}(),bible.genNames=function(){for(var a=[],b=0,c=bible.Books.length;c>b;b++)a.push(bible.Books[b].names.join("|"));return a.join("|")},bible.parseReference=function(a){var b,c,d,e,f,g,h=-1,i=-1,j=-1,k=-1,l=-1,m=bible.replaceRoman(a),n=m.replace("&ndash;","-").replace("–","-").replace(/(\d+[\.:])\s+(\d+)/gi,"$1$2"),o=!1,p=!1,q=!1,r="",s=null;for(b=n.length;b>=0;b--)if(/[A-Za-z\s]/.test(n.substring(b-1,b))){s=n.substring(0,b);break}if(null!==s){for(s=s.replace(/\s+$/,"").replace(/\.+$/,"").toLowerCase(),b=0,d=bible.Books.length;d>b&&-1==h;b++)for(c=0,e=bible.Books[b].names.length;e>c;c++)if(f=bible.Books[b].names[c].toLowerCase(),s==f){h=b,n=n.substring(f.length);break}if(h>-1){for(b=0;b<n.length;b++)if(g=n.charAt(b)," "==g||isNaN(g)){if(!q)continue;"-"==g||"–"==g?(o=!0,p=!1):(":"==g||","==g||"."==g)&&(p=!0),r="",q=!1}else q=!0,r+=g,p?o?l=parseInt(r,10):j=parseInt(r,10):o?k=parseInt(r,10):i=parseInt(r,10);1==bible.Books[h].verses.length&&i>1&&-1==j&&(j=i,i=1),i>0&&j>0&&k>0&&0>=l&&(l=k,k=i),i>0&&0>=j&&k>0&&l>0&&(j=1),h>-1&&0>=i&&0>=j&&0>=k&&0>=l&&(i=1),"undefined"!=typeof bible.Books[h].verses&&(-1==i?i=1:i>bible.Books[h].verses.length&&(i=bible.Books[h].verses.length,j>0&&(j=1)),j>bible.Books[h].verses[i-1]&&(j=bible.Books[h].verses[i-1]),i===k&&j>=l&&(k=-1,l=-1))}}return bible.Reference(h,i,j,k,l)},bible.replaceRoman=function(a){var b=a.match(/((CM|CD)|(D)?(C){0,3})((XC|XL)|(L)?(X){0,3})((IX|IV)|(V)?(I){0,3})(?=(\s|[\.,;:-])|$)/gi);b=b.filter(function(a){return a});for(var c=b.length-1;c>=0;c--){var d=bible.romanToArabic(b[c]),e=new RegExp("\\b"+b[c]+"(?=(\\s|[.,;:-])|$)","gi");a=a.replace(e,d)}return a},bible.romanToArabic=function(a){var b=[[100,"C"],[90,"XC"],[50,"L"],[40,"XL"],[10,"X"],[9,"IX"],[5,"V"],[4,"IV"],[1,"I"]],c="^((CM|CD)|(D)?(C){0,3})((XC|XL)|(L)?(X){0,3})((IX|IV)|(V)?(I){0,3})$",d=new RegExp(c,"mi");if(d.test(a)){for(var e=0,f=0;f<b.length;++f)for(var g=b[f],h=g[1].length;a.substr(0,h).toUpperCase()==g[1];a=a.substr(h).toUpperCase())e+=g[0];return e}return a},bible.Reference=function(){var a=-1,b=-1,c=-1,d=-1,e=-1,f=arguments;if(0===f.length);else{if(1==f.length&&"string"==typeof f[0])return bible.parseReference(f[0]);if(1==f.length)return null;a=f[0],b=f[1],f.length>=3&&(c=f[2]),f.length>=4&&(d=f[3]),f.length>=5&&(e=f[4])}return{bookIndex:a,chapter:b,verse:c,chapter1:b,verse1:c,chapter2:d,verse2:e,isValid:function(){return a>-1&&a<bible.Books.length&&b>0},chapterAndVerse:function(a,b,c){a=a||":",b=b||"-",c=c||"-";var d=this.chapter1,e=this.chapter2,f=this.verse1,g=this.verse2;return d>0&&0>=f&&0>=e&&0>=g?d:d>0&&f>0&&0>=e&&0>=g?d+a+f:d>0&&f>0&&0>=e&&g>0?d+a+f+b+g:d>0&&0>=f&&e>0&&0>=g?d+c+e:d>0&&f>0&&e>0&&g>0?d+a+f+c+(d!=e?e+a:"")+g:"?"},toString:function(){return this.bookIndex<0||this.bookIndex>=bible.Books.length?"invalid":bible.Books[this.bookIndex].names[0]+" "+this.chapterAndVerse()},toShortUrl:function(){return this.bookIndex<0||this.bookIndex>=bible.Books.length?"invalid":"http://bib.ly/"+bible.Books[this.bookIndex].names[1]+this.chapterAndVerse(".","-","-")}}},bible.distance=function(){var a=arguments,c=null,d=null,e=null,f=null;if(a[0].bookIndex<0||a[0].bookIndex>65)return{chapters:null,verses:null};a.length>1&&(a[0].bookIndex<=a[1].bookIndex?(e=a[0],f=a[1]):(e=a[1],f=a[0]));for(var g=0;g<a.length;g++)bible.denormalize(a[g]);if(1==a.length){if(-1!==a[0].chapter2&&-1!==a[0].verse2)d=a[0].verse2+bible.verseDistance(a[0].bookIndex,a[0].chapter1,a[0].chapter2)-a[0].verse1+1,c=a[0].chapter2-a[0].chapter1;else if(a[0].chapter1>=0&&a[0].chapter2>=0&&-1===a[0].verse1&&-1===a[0].verse2){for(var h=a[0].chapter2;h>=0;h--)d+=bible.Books[a[0].bookIndex].verses[h];c=Math.abs(a[0].chapter2-a[0].chapter1)}else if(a[0].chapter1>=0&&-1===a[0].chapter2)d=bible.Books[a[0].bookIndex].verses[a[0].chapter1],c=1;else{if(-1!==a[0].chapter1||-1!==a[0].chapter2)return bible.normalize(a[0]),{chapters:c,verses:d};d=bible.Books[a[0].bookIndex].verses.reduce(function(a,b){return a+b},0),c=bible.Books[a[0].bookIndex].verses.length}bible.normalize(a[0])}else{if(e.bookIndex!==f.bookIndex){var i=0,j=0,k=0,l=0,m=0,n=0,o=0;for(i=bible.Books[e.bookIndex].verses.length,j=bible.verseDistance(e.bookIndex,e.chapter1,i)-e.verse1+1,m=i-e.chapter1,l=bible.verseDistance(f.bookIndex,0,f.chapter1)+f.verse,o=f.chapter1,b=e.bookIndex+1;b<f.bookIndex;b++)k=bible.verseDistance(b,0,bible.Books[b].verses.length)+k,n+=bible.Books[b].verses.length;d=j+k+l,c=m+n+o}else d=f.verse1+bible.verseDistance(e.bookIndex,e.chapter1,f.chapter1)-e.verse1+1,c=f.chapter1-e.chapter1;bible.normalize(e),bible.normalize(f)}return{chapters:c,verses:d}},bible.verseDistance=function(a,b,c){var d=bible.Books[a].verses,e=0;if(b==c)return 0;for(i=b;c>i;i++)e=d[i]+e;return e},bible.add=function(a,b){for(bible.denormalize(a),a.verse1=-1===a.verse1&&a.chapter1>=0?1:a.verse1,a.verse2=-1===a.verse2&&a.chapter2>=0?bible.Books[a.bookIndex].verses[a.chapter2]:a.verse2;0!==b;){var c=bible.Books[a.bookIndex].verses[a.chapter1];if(a.verse1+b<=c?(a.verse1=a.verse1+b,b=0):(b=Math.abs(c-a.verse1-b),a.verse1=0),0!==b){var d=a.chapter1+1;if(bible.Books[a.bookIndex].verses.length-1<d){if(65===a.bookIndex){a.verse1=21;break}a.bookIndex++,a.chapter1=0}else a.chapter1++}}return bible.normalize(a),a},bible.subtract=function(a,b){for(bible.denormalize(a),a.verse1=-1===a.verse1&&a.chapter1>=0?1:a.verse1;0!==b;)if(a.verse1-b>0?(a.verse1=a.verse1-b,b=0):a.verse1-b===0?(a.bookIndex--,a.chapter1=bible.Books[a.bookIndex].verses.length-1,a.verse1=bible.Books[a.bookIndex].verses[a.chapter1],b=0):b=Math.abs(a.verse1-b),0!==b){var c=a.chapter1-1;if(0>c){if(0===a.bookIndex){a.verse1=1;break}a.bookIndex--,a.chapter1=bible.Books[a.bookIndex].verses.length-1,a.verse1=bible.Books[a.bookIndex].verses[a.chapter1]+1}else a.chapter1--,a.verse1=bible.Books[a.bookIndex].verses[a.chapter1]}return bible.normalize(a),a},bible.denormalize=function(a){a.chapter1=a.chapter1>0?a.chapter1-1:a.chapter1,a.chapter2=a.chapter2>0?a.chapter2-1:a.chapter2},bible.normalize=function(a){a.chapter1=a.chapter1>=0?a.chapter1+1:a.chapter1,a.chapter2=a.chapter2>=0?a.chapter2+1:a.chapter2};